map <- leaflet(pct) %>%
#   addProviderTiles("MapBox.ryancook.o8im6llh", group = "Roads") %>%
addProviderTiles("OpenTopoMap", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("MapQuestOpen.Aerial", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("OpenMapSurfer.Roads", group = "OpenMapSurfer.Roads") %>%
addPolylines (color="red", popup="PCT") %>%
addMarkers(-116.4697, 32.60758, popup = "Campo", group="Terminals") %>%
addMarkers(-120.7816, 49.06465, popup = "Manning Park, Canada", group="Terminals") %>%
addPolygons(data=mapStates, stroke=FALSE, fillColor="#373737") %>%
addLegend(position="topright",colors="red", labels="PCT", opacity=0.2, title="Trail Map") %>%
hidegroup("Terminals")
library(leaflet)
library(rgdal)
library(maps)
library(htmlwidgets)
# map <- leaflet() %>% addTiles()
# map
#  %>%  pipe operator: cmd-shft-m
# comments: cmd-shfit-c
gpx <- 'data/pacific-crest-trail.gpx'
pct <- readOGR(gpx, layer = "tracks")
mapStates <- map("state", fill=TRUE,
plot=FALSE,
region=c("California","Oregon","Washington"))
gpx <- 'data/pacific-crest-trail.gpx'
pct <- readOGR(gpx, layer = "tracks")
mapStates <- map("state", fill=TRUE,
plot=FALSE,
region=c("California","Oregon","Washington"))
map <- leaflet(pct) %>%
#   addProviderTiles("MapBox.ryancook.o8im6llh", group = "Roads") %>%
addProviderTiles("OpenTopoMap", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("MapQuestOpen.Aerial", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("OpenMapSurfer.Roads", group = "OpenMapSurfer.Roads") %>%
addPolylines (color="red", popup="PCT") %>%
addMarkers(-116.4697, 32.60758, popup = "Campo", group="Terminals") %>%
addMarkers(-120.7816, 49.06465, popup = "Manning Park, Canada", group="Terminals") %>%
addPolygons(data=mapStates, stroke=FALSE, fillColor="#373737") %>%
addLegend(position="topright",colors="red", labels="PCT", opacity=0.2, title="Trail Map") %>%
hidegroup("Terminals")
map <- leaflet(pct) %>%
#   addProviderTiles("MapBox.ryancook.o8im6llh", group = "Roads") %>%
addProviderTiles("OpenTopoMap", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("MapQuestOpen.Aerial", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("OpenMapSurfer.Roads", group = "OpenMapSurfer.Roads") %>%
addPolylines (color="red", popup="PCT") %>%
addMarkers(-116.4697, 32.60758, popup = "Campo", group="Terminals") %>%
addMarkers(-120.7816, 49.06465, popup = "Manning Park, Canada", group="Terminals") %>%
addPolygons(data=mapStates, stroke=FALSE, fillColor="#373737") %>%
addLegend(position="topright",colors="red", labels="PCT", opacity=0.2, title="Trail Map") %>%
hideGroup("Terminals")
map
map <- leaflet(pct) %>%
#   addProviderTiles("MapBox.ryancook.o8im6llh", group = "Roads") %>%
addProviderTiles("OpenTopoMap", group = "OpenTopoMap") %>%
addProviderTiles("MapQuestOpen.Aerial", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("OpenMapSurfer.Roads", group = "OpenMapSurfer.Roads") %>%
addPolylines (color="red", popup="PCT") %>%
addMarkers(-116.4697, 32.60758, popup = "Campo", group="Terminals") %>%
addMarkers(-120.7816, 49.06465, popup = "Manning Park, Canada", group="Terminals") %>%
addPolygons(data=mapStates, stroke=FALSE, fillColor="#373737") %>%
addLegend(position="topright",colors="red", labels="PCT", opacity=0.2, title="Trail Map") %>%
hideGroup("Terminals") %>%
addLayersControl(
baseGroups = c("OpenTopoMap", "MapQuestOpen.Aerial", "OpenMapSurfer.Roads"),
overlayGroups="Terminals")
map
map <- leaflet(pct) %>%
#   addProviderTiles("MapBox.ryancook.o8im6llh", group = "Roads") %>%
addProviderTiles("OpenTopoMap", group = "OpenTopoMap") %>%
addProviderTiles("MapQuestOpen.Aerial", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("OpenMapSurfer.Roads", group = "OpenMapSurfer.Roads") %>%
addPolylines (color="red", popup="PCT") %>%
addMarkers(-116.4697, 32.60758, popup = "Campo", group="Terminals") %>%
addMarkers(-120.7816, 49.06465, popup = "Manning Park, Canada", group="Terminals") %>%
addPolygons(data=mapStates, stroke=FALSE, fillColor="#373737") %>%
addLegend(position="topright",colors="red", labels="PCT", opacity=0.2, title="Trail Map") %>%
hideGroup("Terminals") %>%
addLayersControl(
baseGroups = c("OpenTopoMap", "MapQuestOpen.Aerial", "OpenMapSurfer.Roads"),
overlayGroups="Terminals",
options = layersControlOptions(collapsed=FALSE)
)
map
map <- leaflet(pct) %>%
#   addProviderTiles("MapBox.ryancook.o8im6llh", group = "Roads") %>%
addProviderTiles("OpenTopoMap", group = "OpenTopoMap") %>%
addProviderTiles("MapQuestOpen.Aerial", group = "MapQuestOpen.Aerial") %>%
addProviderTiles("OpenMapSurfer.Roads", group = "OpenMapSurfer.Roads") %>%
addPolylines (color="red", popup="PCT") %>%
addMarkers(-116.4697, 32.60758, popup = "Campo", group="Terminals") %>%
addMarkers(-120.7816, 49.06465, popup = "Manning Park, Canada", group="Terminals") %>%
addPolygons(data=mapStates, stroke=FALSE, fillColor="#373737") %>%
addLegend(position="topright",colors="red", labels="PCT", opacity=0.2, title="Trail Map") %>%
hideGroup("Terminals") %>%
addLayersControl(
baseGroups = c("MapQuestOpen.Aerial", "OpenTopoMap", "OpenMapSurfer.Roads"),
overlayGroups="Terminals",
options = layersControlOptions(collapsed=FALSE)
)
map
map <- leaflet(pct) %>%
addProviderTiles("MapBox.ryancook.o8im6llh", group = "Roads") %>%
addProviderTiles("OpenTopoMap", group = "Topo") %>%
addProviderTiles("MapQuestOpen.Aerial", group = "Aerial") %>%
addPolylines (color="red", popup="PCT") %>%
addMarkers(-116.4697, 32.60758, popup = "Campo", group="Terminals") %>%
addMarkers(-120.7816, 49.06465, popup = "Manning Park, Canada", group="Terminals") %>%
addPolygons(data=mapStates, stroke=FALSE, fillColor="#373737") %>%
addLegend(position="topright",colors="red", labels="PCT", opacity=0.2, title="Trail Map") %>%
hideGroup("Terminals") %>%
addLayersControl(
baseGroups = c("Roads","Topo","Aerial"),
overlayGroups="Terminals",
options = layersControlOptions(collapsed=FALSE)
)
map
exif_datetime <- function(path) {
# read out the picture-taken datetime for a file using exiftool
exif_cmd <- 'exiftool -T -r -DateTimeOriginal '
cmd <- paste(exif_cmd, '"', path, '"', sep='')
exif_timestamp <- system(cmd, intern = TRUE) # execute exiftool-command
exif_timestamp
}
photo_timestamp <- exif_datetime('photos/IMG_0580')
exif_datetime <- function(path) {
# read out the picture-taken datetime for a file using exiftool
exif_cmd <- 'exiftool -T -r -DateTimeOriginal '
cmd <- paste(exif_cmd, '"', path, '"', sep='')
exif_timestamp <- system(cmd, intern = TRUE) # execute exiftool-command
exif_timestamp
}
photo_timestamp <- exif_datetime('photos/IMG_0580')
photo_timestamp <- exif_datetime('photos/IMG_0580.jpg')
photo_timestamp
